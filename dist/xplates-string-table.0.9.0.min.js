/** XPlatesStringTable version 0.9.0
  * @license MIT
  * @preserve 
 **/
var XPlatesStringTable=module.exports;XPlatesStringTable.parseIntoBundleSync=function(t,e,n){function r(){i&&(s=s.trim(),o=o?o.split(","):[],u&&t(a,'<% var a=arguments,p="'+u+'$",f=p+k,out=this[f]?this[f].apply(this,Array.prototype.slice.call(a,1)):this[p+"__default"].apply(this,a); %>',["k"],u),t(a,s,o,i),i=s=u=o=null)}var a=(e||{}).language||"text",l="undefined"!=typeof Buffer&&n instanceof Buffer?n.toString():n;if("string"!=typeof l)throw new Error("Can only parse a string or Buffer object!");l=l.replace(/(^|\s+)\/\/.*/g,"");for(var i,s,u,o,f=l.split(/\r?\n/),p=0;p<f.length;p++){var c=f[p],d=c.match(/^(([\w\d]+)(\$([\w\d]+))?)(\(([^)]*)\))?:(.*)/);d?(r(),i=d[1],u=d[3]?d[2]:null,s=d[7].trim(),o=d[6]):i&&(s+="\n"+c.trim())}r()},XPlatesStringTable.parseIntoBundle=function(t,e,n,r){setImmediate(function(){try{XPlatesStringTable.parseIntoBundleSync(t,e,n)}catch(t){return void r(t)}r(null)})},XPlatesStringTable.parseFileIntoBundle=function(t,e,n,r){require("fs").readFile(n,function(n,a){if(n)return r(n);XPlatesStringTable.parseIntoBundle(t,e,a,r)})},XPlatesStringTable.parseFileIntoBundleSync=function(t,e,n){var r=require("fs").readFileSync(n);return XPlatesStringTable.parseIntoBundleSync(t,e,r)},XPlatesStringTable.getMapKeys=function(t){var e={};for(var n in t){var r=n.match(/^([\w\d]+)\$([\w\d]+)$/);r&&(e[r[1]]=e[r[1]]||[],"__default"!==r[2]&&e[r[1]].push(r[2]))}return e},XPlatesStringTable.addKeyFunctions=function(t){var e=XPlatesStringTable.getMapKeys(t);for(var n in e)t("text","<% out="+JSON.stringify(e[n])+"%>",[],n+"__keys")};